<?xml version="1.0" encoding="UTF-8" ?>

<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.inzent.deliverablesAPI.mapper.DeliverablesListMapper">
    <!--  산출물 목록 기능 변경 변수명  -->
    <resultMap id="deliverMap" type="com.inzent.deliverablesAPI.vo.DeliverablesListVO">
        <result column="DELIVERABLES_ID" property="id" />
        <result column="DELIVERABLES_NAME" property="name" />
        <result column="DELIVERABLES_TOP_ID" property="pId" />
        <result column="REQUIRED_ITEMS" property="grade" />
        <result column="FILE_GUBUN" property="type" />
        <result column="DESCRIPTION" property="description" />
        <result column="DELETE_YN" property="delete_yn" />
    </resultMap>

    <!--  산출물 목록 기능  -->
    <!--산출물 목록 조회 (GET)-->
    <select id="getList" resultMap="deliverMap">
        SELECT * FROM DELIVERABLES_LIST
    </select>

    <!--산출물 목록의 디렉터리 또는 파일 등록 (POST)-->
    <insert id="postList" >
        INSERT INTO DELIVERABLES_LIST (DELIVERABLES_ID, DELIVERABLES_NAME, DELIVERABLES_TOP_ID, REQUIRED_ITEMS, FILE_GUBUN, DESCRIPTION, DELETE_YN)
        VALUES (#{deliver.id, jdbcType=VARCHAR}, #{deliver.name, jdbcType=VARCHAR}, #{deliver.pId, jdbcType=VARCHAR}, #{deliver.grade, jdbcType=CHAR}, #{deliver.type, jdbcType=CHAR}, #{deliver.description, jdbcType=VARCHAR}, #{deliver.delete_yn, jdbcType=CHAR})
    </insert>

    <!--산출물 목록의 디렉토리 또는 파일 수정 (PUT)-->
    <update id="putList" >
        UPDATE DELIVERABLES_LIST set DELIVERABLES_NAME=#{deliver.name, jdbcType=VARCHAR}, DELIVERABLES_TOP_ID=#{deliver.pId, jdbcType=VARCHAR}, REQUIRED_ITEMS=#{deliver.grade, jdbcType=CHAR}, FILE_GUBUN=#{deliver.type, jdbcType=CHAR}, DESCRIPTION=#{deliver.description, jdbcType=VARCHAR}, DELETE_YN=#{deliver.delete_yn, jdbcType=CHAR}
        where DELIVERABLES_ID=#{deliver.id, jdbcType=VARCHAR}
    </update>

    <!--산출물 목록의 디렉토리 또는 파일 삭제 (DELETE)-->
    <delete id="deleteList">
        DELETE FROM DELIVERABLES_LIST WHERE DELIVERABLES_ID = #{id}
    </delete>
</mapper>
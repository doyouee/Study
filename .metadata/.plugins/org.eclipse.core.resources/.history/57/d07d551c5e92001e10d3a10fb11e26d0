package com.websocket.ecoserver.client;

public class EchoClient {
	public static void main(String[] args) throws IOException {
				String ip="192.168.0.183";
				Socket sock = new Socket(ip,7777);
				System.out.println("서버와 연결됨..");
				InputStream is = sock.getInputStream();
				//1) 서버가 보내오는 메시지를 듣는 스트림 얻기
				BufferedReader bf 
				= new BufferedReader(new InputStreamReader(is));
				String serverMsg = bf.readLine();
				System.out.println("From EchoServer>>"+serverMsg);
				
				//2) 키보드와 노드 연결한 스트림 생성
				BufferedReader key
				=new BufferedReader(new InputStreamReader(System.in));
				
				//3) 서버에 메시지를 보내기 위한 출력 스트림 얻기
				PrintWriter out = new PrintWriter(sock.getOutputStream(),true);
				
				//키보드 입력받고 서버로 보내기
				String myMsg="";
				while((myMsg=key.readLine())!=null) {
					out.println(myMsg);//서버에 메시지 보내기
					//서버가 보내오는 메아리 듣기
					serverMsg=bf.readLine();
					System.out.println("From Server>>"+serverMsg);
				}
				
				
				bf.close();
				is.close();
				key.close();
				out.close();
				sock.close();
			}
}
